"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const mockFS = require("mock-fs");
const path_1 = require("path");
const git_1 = require("./git");
const rootVirtualPath = "/app";
describe("utils > git", () => {
    it("should find root project directory", () => {
        mockFS({
            [path_1.join(rootVirtualPath)]: {
                ".git": {
                    "internal-git-files": "",
                },
            },
        });
        const actualRootGitRepo = git_1.findRootGitRepository(rootVirtualPath);
        mockFS.restore();
        expect(actualRootGitRepo).toBe(rootVirtualPath);
    });
    it("should find root project directory from subdirectory", () => {
        mockFS({
            [rootVirtualPath]: {
                ".git": {
                    "internal-git-files": "",
                },
                src: {
                    "index.js": "",
                },
            },
        });
        const path = path_1.join(rootVirtualPath, "src");
        const actualRootGitRepo = git_1.findRootGitRepository(path);
        mockFS.restore();
        expect(actualRootGitRepo).toBe(rootVirtualPath);
    });
});
//# sourceMappingURL=git.test.js.map